<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floral SaaS Admin</title>
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Access restriction: owners only -->
    <script src="../js/session.js"></script>
    <script>
        requireRole(['owner']); 
    </script>

    <nav>
        <ul class="nav-menu">
            <li><a href="../index.html">ğŸ  Home</a></li>
            <li><a href="../flowerCalculator.html">ğŸŒ¼ Flower Calculator</a></li>
            <li><a href="index.html">âš™ï¸ Admin Dashboard</a></li>
            <li><a href="../analytics/index.html">ğŸ“Š Analytics</a></li>
            <li><a href="../analytics/flower-usage/flower-usage.html">ğŸ“ˆ Flower Usage</a></li>
        </ul>
    </nav>

    <header>
        <h1>ğŸŒ¸ Floral SaaS Admin Dashboard ğŸŒ¸</h1>
    </header>

    <main>
        <!-- Flowers Section -->
        <section>
            <h2>Flowers</h2>
            <table id="flowersTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Wholesale ($)</th>
                        <th>Markup (x)</th>
                        <th>Retail ($)</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="addFlower">Add Flower</button>
            <button id="saveFlowers">Save Flowers</button>
        </section>

        <!-- Hard Goods Section -->
        <section>
            <h2>Hard Goods</h2>
            <table id="hardGoodsTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Price ($)</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <button id="addHardGood">Add Hard Good</button>
            <button id="saveHardGoods">Save Hard Goods</button>
        </section>

        <!-- Percentages Section -->
        <section>
            <h2>Default Percentages</h2>
            <label>Greens (%): <input type="number" id="greensPercent" value="0"></label><br>
            <label>Wastage (%): <input type="number" id="wastagePercent" value="0"></label><br>
            <label>CC Fee (%): <input type="number" id="ccfeePercent" value="0"></label><br>
            <button id="savePercentages">Save Percentages</button>
        </section>

        <!-- Designers Section -->
        <section>
            <h2>Designers</h2>
            <table id="designerTable">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="designerList"></tbody>
            </table>
            <input type="text" id="newDesigner" placeholder="Add new designer">
            <button id="addDesigner">Add Designer</button>
            <button id="saveDesigners">Save Designers</button>
        </section>
    </main>

    <!-- Load shared data first -->
    <script type+"module" src="../js/sharedData.js"></script>
    <!-- Then load admin logic -->
    <script type="module" src="admin.js"></script>
</body>
</html>
